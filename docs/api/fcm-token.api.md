**PATCH /user/fcm-token**

### **Description**

Stores or updates the Firebase Cloud Messaging (FCM) token for a logged-in user’s device.

Used to send push notifications to specific devices.

### **Headers**

| Key           | Value              | Required |
| ------------- | ------------------ | -------- |
| Authorization | Bearer `<token>` | ✅       |

---

### **Request Body**

```json
{
  "token": "fcm_device_token_here",
  "deviceName": "iPhone 14 Pro"
}
```

| Field      | Type   | Required | Description                                                                   |
| ---------- | ------ | -------- | ----------------------------------------------------------------------------- |
| token      | string | ✅       | The FCM token generated by Firebase for the device                            |
| deviceName | string | ✅       | A descriptive name for the device (e.g., “John’s iPhone”, “Work Laptop”) |

---

### **Responses**

#### **200 OK**

```json
{
  "success": true,
  "message": "FCM token updated successfully"
}
```

#### **400 Bad Request**

```json
{
  "success": false,
  "message": "Invalid FCM token or device name"
}
```

#### **401 Unauthorized**

```json
{
  "success": false,
  "message": "Authentication required"
}
```

---

## **PATCH /restaurant-admin/fcm-token**

### **Description**

Stores or updates the Firebase Cloud Messaging (FCM) token for a logged-in restaurant admin’s device.

### **Headers**

| Key           | Value              | Required |
| ------------- | ------------------ | -------- |
| Authorization | Bearer `<token>` | ✅       |

---

### **Request Body**

```json
{
  "token": "fcm_device_token_here",
  "deviceName": "POS Terminal"
}
```

| Field      | Type   | Required | Description                                                                       |
| ---------- | ------ | -------- | --------------------------------------------------------------------------------- |
| token      | string | ✅       | The FCM token generated by Firebase for the device                                |
| deviceName | string | ✅       | A descriptive name for the device (e.g., “POS Terminal”, “Manager’s Tablet”) |

---

### **Responses**

#### **200 OK**

```json
{
  "success": true,
  "message": "FCM token updated successfully"
}
```

#### **400 Bad Request**

```json
{
  "success": false,
  "message": "Invalid FCM token or device name"
}
```

#### **401 Unauthorized**

```json
{
  "success": false,
  "message": "Authentication required"
}
```
